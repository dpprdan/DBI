<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DBI specification • DBI</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="DBI specification">
<meta property="og:description" content="DBI">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DBI</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/DBI.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/r-dbi/DBI/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>DBI specification</h1>
                        <h4 data-toc-skip class="author">Kirill Müller</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-dbi/DBI/blob/HEAD/vignettes/spec.Rmd" class="external-link"><code>vignettes/spec.Rmd</code></a></small>
      <div class="hidden name"><code>spec.Rmd</code></div>

    </div>

    
        <div class="abstract">
      <p class="abstract">Abstract</p>
      <p>The DBI package defines the generic DataBase Interface for R. The connection to individual DBMS is provided by other packages that import DBI (so-called <em>DBI backends</em>). This document formalizes the behavior expected by the methods declared in DBI and implemented by the individual backends. To ensure maximum portability and exchangeability, and to reduce the effort for implementing a new DBI backend, the DBItest package defines a comprehensive set of test cases that test conformance to the DBI specification. This document is derived from comments in the test definitions of the DBItest package. Any extensions or updates to the tests will be reflected in this document.</p>
    </div>
    
<div class="section level2 container">
<h2 id="dbi-r-database-interface">DBI: R Database Interface<a class="anchor" aria-label="anchor" href="#dbi-r-database-interface"></a>
</h2>
<p>DBI defines an interface for communication between R and relational database management systems. All classes in this package are virtual and need to be extended by the various R/DBMS implementations (so-called <em>DBI backends</em>).</p>
<div class="section level3">
<h3 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="determine-the-sql-data-type-of-an-object">Determine the SQL data type of an object<a class="anchor" aria-label="anchor" href="#determine-the-sql-data-type-of-an-object"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="va">dbObj</span>, <span class="va">obj</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h3>
<p>Returns an SQL string that describes the SQL data type to be used for an object. The default implementation of this generic determines the SQL type of an R object according to the SQL 92 specification, which may serve as a starting point for driver implementations. DBI also provides an implementation for data.frame which will return a character vector giving the type for each column in the dataframe.</p>
</div>
<div class="section level3">
<h3 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>dbObj</code></td>
<td>A object inheriting from DBIDriver or DBIConnection</td>
</tr>
<tr class="even">
<td><code>obj</code></td>
<td>An R object whose SQL type we want to determine.</td>
</tr>
<tr class="odd">
<td><code>...</code></td>
<td>Other arguments passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a>
</h3>
<p>The data types supported by databases are different than the data types in R, but the mapping between the primitive types is straightforward:</p>
<ul>
<li><p>Any of the many fixed and varying length character types are mapped to character vectors</p></li>
<li><p>Fixed-precision (non-IEEE) numbers are mapped into either numeric or integer vectors.</p></li>
</ul>
<p>Notice that many DBMS do not follow IEEE arithmetic, so there are potential problems with under/overflows and loss of precision.</p>
</div>
<div class="section level3">
<h3 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"abc"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/raw.html" class="external-link">raw</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/raw.html" class="external-link">raw</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">iris</span><span class="op">)</span>

<span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="va">con</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="va">con</span>, <span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="va">con</span>, <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="va">con</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="va">con</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="va">con</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="va">con</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"abc"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="va">con</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/raw.html" class="external-link">raw</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/raw.html" class="external-link">raw</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="va">con</span>, <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDataType.html">dbDataType</a></span><span class="op">(</span><span class="va">con</span>, <span class="va">iris</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="create-a-connection-to-a-dbms">Create a connection to a DBMS<a class="anchor" aria-label="anchor" href="#create-a-connection-to-a-dbms"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="va">drv</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-1">Description<a class="anchor" aria-label="anchor" href="#description-1"></a>
</h3>
<p>Connect to a DBMS going through the appropriate authentication procedure. Some implementations may allow you to have multiple connections open, so you may invoke this function repeatedly assigning its output to different objects. The authentication mechanism is left unspecified, so check the documentation of individual drivers for details. Use <code><a href="../reference/dbCanConnect.html">dbCanConnect()</a></code> to check if a connection can be established.</p>
</div>
<div class="section level3">
<h3 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="3%">
<col width="96%">
</colgroup>
<tbody>
<tr class="odd">
<td><code>drv</code></td>
<td>an object that inherits from DBIDriver, or an existing DBIConnection object (in order to clone an existing connection).</td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>authentication arguments needed by the DBMS instance; these typically include <code>user</code>, <code>password</code>, <code>host</code>, <code>port</code>, <code>dbname</code>, etc. For details see the appropriate <code>DBIDriver</code>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># SQLite only needs a path to the database. (Here, ":memory:" is a special</span>
<span class="co"># path that creates an in-memory database.) Other database drivers</span>
<span class="co"># will require more details (like user, password, host, port, etc.)</span>
<span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>
<span class="va">con</span>

<span class="fu"><a href="../reference/dbListTables.html">dbListTables</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span>

<span class="co"># Bad, for subtle reasons:</span>
<span class="co"># This code fails when RSQLite isn't loaded yet,</span>
<span class="co"># because dbConnect() doesn't know yet about RSQLite.</span>
<span class="fu"><a href="../reference/dbListTables.html">dbListTables</a></span><span class="op">(</span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="disconnect-close-a-connection">Disconnect (close) a connection<a class="anchor" aria-label="anchor" href="#disconnect-close-a-connection"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-2">Description<a class="anchor" aria-label="anchor" href="#description-2"></a>
</h3>
<p>This closes the connection, discards all pending work, and frees resources (e.g., memory, sockets).</p>
</div>
<div class="section level3">
<h3 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>conn</code></td>
<td>A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.</td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>Other parameters passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="examples-3">Examples<a class="anchor" aria-label="anchor" href="#examples-3"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="execute-a-query-on-a-given-database-connection">Execute a query on a given database connection<a class="anchor" aria-label="anchor" href="#execute-a-query-on-a-given-database-connection"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbSendQuery.html">dbSendQuery</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">statement</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-3">Description<a class="anchor" aria-label="anchor" href="#description-3"></a>
</h3>
<p>The <code><a href="../reference/dbSendQuery.html">dbSendQuery()</a></code> method only submits and synchronously executes the SQL query to the database engine. It does <em>not</em> extract any records — for that you need to use the <code><a href="../reference/dbFetch.html">dbFetch()</a></code> method, and then you must call <code><a href="../reference/dbClearResult.html">dbClearResult()</a></code> when you finish fetching the records you need. For interactive use, you should almost always prefer <code><a href="../reference/dbGetQuery.html">dbGetQuery()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>conn</code></td>
<td>A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.</td>
</tr>
<tr class="even">
<td><code>statement</code></td>
<td>a character string containing SQL.</td>
</tr>
<tr class="odd">
<td><code>...</code></td>
<td>Other parameters passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a>
</h3>
<p>This method is for <code>SELECT</code> queries only. Some backends may support data manipulation queries through this method for compatibility reasons. However, callers are strongly encouraged to use <code><a href="../reference/dbSendStatement.html">dbSendStatement()</a></code> for data manipulation statements.</p>
<p>The query is submitted to the database server and the DBMS executes it, possibly generating vast amounts of data. Where these data live is driver-specific: some drivers may choose to leave the output on the server and transfer them piecemeal to R, others may transfer all the data to the client – but not necessarily to the memory that R manages. See individual drivers’ <code><a href="../reference/dbSendQuery.html">dbSendQuery()</a></code> documentation for details.</p>
</div>
<div class="section level3">
<h3 id="examples-4">Examples<a class="anchor" aria-label="anchor" href="#examples-4"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">)</span>
<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendQuery.html">dbSendQuery</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT * FROM mtcars WHERE cyl = 4"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>

<span class="co"># Pass one set of values with the param argument:</span>
<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendQuery.html">dbSendQuery</a></span><span class="op">(</span>
  <span class="va">con</span>,
  <span class="st">"SELECT * FROM mtcars WHERE cyl = ?"</span>,
  params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">4L</span><span class="op">)</span>
<span class="op">)</span>
<span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>

<span class="co"># Pass multiple sets of values with dbBind():</span>
<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendQuery.html">dbSendQuery</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT * FROM mtcars WHERE cyl = ?"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbBind.html">dbBind</a></span><span class="op">(</span><span class="va">rs</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">6L</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbBind.html">dbBind</a></span><span class="op">(</span><span class="va">rs</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">8L</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="fetch-records-from-a-previously-executed-query">Fetch records from a previously executed query<a class="anchor" aria-label="anchor" href="#fetch-records-from-a-previously-executed-query"></a>
</h2>
<p>This section describes the behavior of the following methods:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">res</span>, n <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbFetch.html">fetch</a></span><span class="op">(</span><span class="va">res</span>, n <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-4">Description<a class="anchor" aria-label="anchor" href="#description-4"></a>
</h3>
<p>Fetch the next <code>n</code> elements (rows) from the result set and return them as a data.frame.</p>
</div>
<div class="section level3">
<h3 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a>
</h3>
<table class="table">
<colgroup>
<col width="4%">
<col width="95%">
</colgroup>
<tbody>
<tr class="odd">
<td><code>res</code></td>
<td>An object inheriting from DBIResult, created by <code><a href="../reference/dbSendQuery.html">dbSendQuery()</a></code>.</td>
</tr>
<tr class="even">
<td><code>n</code></td>
<td>maximum number of records to retrieve per fetch. Use <code>n = -1</code> or <code>n = Inf</code> to retrieve all pending records. Some implementations may recognize other special values.</td>
</tr>
<tr class="odd">
<td><code>...</code></td>
<td>Other arguments passed on to methods.</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="details-2">Details<a class="anchor" aria-label="anchor" href="#details-2"></a>
</h3>
<p><code><a href="../reference/dbFetch.html">fetch()</a></code> is provided for compatibility with older DBI clients - for all new code you are strongly encouraged to use <code><a href="../reference/dbFetch.html">dbFetch()</a></code>. The default implementation for <code><a href="../reference/dbFetch.html">dbFetch()</a></code> calls <code><a href="../reference/dbFetch.html">fetch()</a></code> so that it is compatible with existing code. Modern backends should implement for <code><a href="../reference/dbFetch.html">dbFetch()</a></code> only.</p>
</div>
<div class="section level3">
<h3 id="examples-5">Examples<a class="anchor" aria-label="anchor" href="#examples-5"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">)</span>

<span class="co"># Fetch all results</span>
<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendQuery.html">dbSendQuery</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT * FROM mtcars WHERE cyl = 4"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>

<span class="co"># Fetch in chunks</span>
<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendQuery.html">dbSendQuery</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT * FROM mtcars"</span><span class="op">)</span>
<span class="kw">while</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="../reference/dbHasCompleted.html">dbHasCompleted</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">chunk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">rs</span>, <span class="fl">10</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">chunk</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>

<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="clear-a-result-set">Clear a result set<a class="anchor" aria-label="anchor" href="#clear-a-result-set"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">res</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-5">Description<a class="anchor" aria-label="anchor" href="#description-5"></a>
</h3>
<p>Frees all resources (local and remote) associated with a result set. In some cases (e.g., very large result sets) this can be a critical step to avoid exhausting resources (memory, file descriptors, etc.)</p>
</div>
<div class="section level3">
<h3 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>res</code></td>
<td>An object inheriting from DBIResult.</td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>Other arguments passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="examples-6">Examples<a class="anchor" aria-label="anchor" href="#examples-6"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendQuery.html">dbSendQuery</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT 1"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="bind-values-to-a-parameterizedprepared-statement">Bind values to a parameterized/prepared statement<a class="anchor" aria-label="anchor" href="#bind-values-to-a-parameterizedprepared-statement"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbBind.html">dbBind</a></span><span class="op">(</span><span class="va">res</span>, <span class="va">params</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-6">Description<a class="anchor" aria-label="anchor" href="#description-6"></a>
</h3>
<p>For parametrized or prepared statements, the <code><a href="../reference/dbSendQuery.html">dbSendQuery()</a></code> and <code><a href="../reference/dbSendStatement.html">dbSendStatement()</a></code> functions can be called with statements that contain placeholders for values. The <code><a href="../reference/dbBind.html">dbBind()</a></code> function binds these placeholders to actual values, and is intended to be called on the result set before calling <code><a href="../reference/dbFetch.html">dbFetch()</a></code> or <code><a href="../reference/dbGetRowsAffected.html">dbGetRowsAffected()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>res</code></td>
<td>An object inheriting from DBIResult.</td>
</tr>
<tr class="even">
<td><code>params</code></td>
<td>A list of bindings, named or unnamed.</td>
</tr>
<tr class="odd">
<td><code>...</code></td>
<td>Other arguments passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="details-3">Details<a class="anchor" aria-label="anchor" href="#details-3"></a>
</h3>
<p><span class="pkg">DBI</span> supports parametrized (or prepared) queries and statements via the <code><a href="../reference/dbBind.html">dbBind()</a></code> generic. Parametrized queries are different from normal queries in that they allow an arbitrary number of placeholders, which are later substituted by actual values. Parametrized queries (and statements) serve two purposes:</p>
<ul>
<li><p>The same query can be executed more than once with different values. The DBMS may cache intermediate information for the query, such as the execution plan, and execute it faster.</p></li>
<li><p>Separation of query syntax and parameters protects against SQL injection.</p></li>
</ul>
<p>The placeholder format is currently not specified by <span class="pkg">DBI</span>; in the future, a uniform placeholder syntax may be supported. Consult the backend documentation for the supported formats. For automated testing, backend authors specify the placeholder syntax with the <code>placeholder_pattern</code> tweak. Known examples are:</p>
<ul>
<li><p><code>?</code> (positional matching in order of appearance) in <span class="pkg">RMySQL</span> and <span class="pkg">RSQLite</span></p></li>
<li><p><code>\$1</code> (positional matching by index) in <span class="pkg">RPostgres</span> and <span class="pkg">RSQLite</span></p></li>
<li><p><code>:name</code> and <code>\$name</code> (named matching) in <span class="pkg">RSQLite</span></p></li>
</ul>
</div>
<div class="section level3">
<h3 id="examples-7">Examples<a class="anchor" aria-label="anchor" href="#examples-7"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"iris"</span>, <span class="va">iris</span><span class="op">)</span>

<span class="co"># Using the same query for different values</span>
<span class="va">iris_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendQuery.html">dbSendQuery</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT * FROM iris WHERE [Petal.Width] &gt; ?"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbBind.html">dbBind</a></span><span class="op">(</span><span class="va">iris_result</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">2.3</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">iris_result</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbBind.html">dbBind</a></span><span class="op">(</span><span class="va">iris_result</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">iris_result</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">iris_result</span><span class="op">)</span>

<span class="co"># Executing the same statement with different values at once</span>
<span class="va">iris_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendStatement.html">dbSendStatement</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"DELETE FROM iris WHERE [Species] = $species"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbBind.html">dbBind</a></span><span class="op">(</span><span class="va">iris_result</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"setosa"</span>, <span class="st">"versicolor"</span>, <span class="st">"unknown"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbGetRowsAffected.html">dbGetRowsAffected</a></span><span class="op">(</span><span class="va">iris_result</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">iris_result</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"iris"</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="send-query-retrieve-results-and-then-clear-result-set">Send query, retrieve results and then clear result set<a class="anchor" aria-label="anchor" href="#send-query-retrieve-results-and-then-clear-result-set"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbGetQuery.html">dbGetQuery</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">statement</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-7">Description<a class="anchor" aria-label="anchor" href="#description-7"></a>
</h3>
<p>Returns the result of a query as a data frame. <code><a href="../reference/dbGetQuery.html">dbGetQuery()</a></code> comes with a default implementation (which should work with most backends) that calls <code><a href="../reference/dbSendQuery.html">dbSendQuery()</a></code>, then <code><a href="../reference/dbFetch.html">dbFetch()</a></code>, ensuring that the result is always free-d by <code><a href="../reference/dbClearResult.html">dbClearResult()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>conn</code></td>
<td>A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.</td>
</tr>
<tr class="even">
<td><code>statement</code></td>
<td>a character string containing SQL.</td>
</tr>
<tr class="odd">
<td><code>...</code></td>
<td>Other parameters passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="details-4">Details<a class="anchor" aria-label="anchor" href="#details-4"></a>
</h3>
<p>This method is for <code>SELECT</code> queries only (incl. other SQL statements that return a <code>SELECT</code>-alike result, e. g. execution of a stored procedure).</p>
<p>To execute a stored procedure that does not return a result set, use <code><a href="../reference/dbExecute.html">dbExecute()</a></code>.</p>
<p>Some backends may support data manipulation statements through this method for compatibility reasons. However, callers are strongly advised to use <code><a href="../reference/dbExecute.html">dbExecute()</a></code> for data manipulation statements.</p>
</div>
<div class="section level3">
<h3 id="implementation-notes">Implementation notes<a class="anchor" aria-label="anchor" href="#implementation-notes"></a>
</h3>
<p>Subclasses should override this method only if they provide some sort of performance optimization.</p>
</div>
<div class="section level3">
<h3 id="examples-8">Examples<a class="anchor" aria-label="anchor" href="#examples-8"></a>
</h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbGetQuery.html">dbGetQuery</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT * FROM mtcars"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbGetQuery.html">dbGetQuery</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT * FROM mtcars"</span>, n <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>

<span class="co"># Pass values using the param argument:</span>
<span class="co"># (This query runs eight times, once for each different</span>
<span class="co"># parameter. The resulting rows are combined into a single</span>
<span class="co"># data frame.)</span>
<span class="fu"><a href="../reference/dbGetQuery.html">dbGetQuery</a></span><span class="op">(</span>
  <span class="va">con</span>,
  <span class="st">"SELECT COUNT(*) FROM mtcars WHERE cyl = ?"</span>,
  params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="execute-a-data-manipulation-statement-on-a-given-database-connection">Execute a data manipulation statement on a given database connection<a class="anchor" aria-label="anchor" href="#execute-a-data-manipulation-statement-on-a-given-database-connection"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbSendStatement.html">dbSendStatement</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">statement</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-8">Description<a class="anchor" aria-label="anchor" href="#description-8"></a>
</h3>
<p>The <code><a href="../reference/dbSendStatement.html">dbSendStatement()</a></code> method only submits and synchronously executes the SQL data manipulation statement (e.g., <code>UPDATE</code>, <code>DELETE</code>, <code>INSERT INTO</code>, <code>DROP TABLE</code>, …) to the database engine. To query the number of affected rows, call <code><a href="../reference/dbGetRowsAffected.html">dbGetRowsAffected()</a></code> on the returned result object. You must also call <code><a href="../reference/dbClearResult.html">dbClearResult()</a></code> after that. For interactive use, you should almost always prefer <code><a href="../reference/dbExecute.html">dbExecute()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>conn</code></td>
<td>A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.</td>
</tr>
<tr class="even">
<td><code>statement</code></td>
<td>a character string containing SQL.</td>
</tr>
<tr class="odd">
<td><code>...</code></td>
<td>Other parameters passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="details-5">Details<a class="anchor" aria-label="anchor" href="#details-5"></a>
</h3>
<p><code><a href="../reference/dbSendStatement.html">dbSendStatement()</a></code> comes with a default implementation that simply forwards to <code><a href="../reference/dbSendQuery.html">dbSendQuery()</a></code>, to support backends that only implement the latter.</p>
</div>
<div class="section level3">
<h3 id="examples-9">Examples<a class="anchor" aria-label="anchor" href="#examples-9"></a>
</h3>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"cars"</span>, <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">cars</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>

<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendStatement.html">dbSendStatement</a></span><span class="op">(</span>
  <span class="va">con</span>,
  <span class="st">"INSERT INTO cars (speed, dist) VALUES (1, 1), (2, 2), (3, 3)"</span>
<span class="op">)</span>
<span class="fu"><a href="../reference/dbHasCompleted.html">dbHasCompleted</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbGetRowsAffected.html">dbGetRowsAffected</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"cars"</span><span class="op">)</span>   <span class="co"># there are now 6 rows</span>

<span class="co"># Pass one set of values directly using the param argument:</span>
<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendStatement.html">dbSendStatement</a></span><span class="op">(</span>
  <span class="va">con</span>,
  <span class="st">"INSERT INTO cars (speed, dist) VALUES (?, ?)"</span>,
  params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">4L</span>, <span class="fl">5L</span><span class="op">)</span>
<span class="op">)</span>
<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>

<span class="co"># Pass multiple sets of values using dbBind():</span>
<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendStatement.html">dbSendStatement</a></span><span class="op">(</span>
  <span class="va">con</span>,
  <span class="st">"INSERT INTO cars (speed, dist) VALUES (?, ?)"</span>
<span class="op">)</span>
<span class="fu"><a href="../reference/dbBind.html">dbBind</a></span><span class="op">(</span><span class="va">rs</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">5</span><span class="op">:</span><span class="fl">6</span>, <span class="fl">6</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbBind.html">dbBind</a></span><span class="op">(</span><span class="va">rs</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">7L</span>, <span class="fl">8L</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"cars"</span><span class="op">)</span>   <span class="co"># there are now 10 rows</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="execute-an-update-statement-query-number-of-rows-affected-and-then-close-result-set">Execute an update statement, query number of rows affected, and then close result set<a class="anchor" aria-label="anchor" href="#execute-an-update-statement-query-number-of-rows-affected-and-then-close-result-set"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbExecute.html">dbExecute</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">statement</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-9">Description<a class="anchor" aria-label="anchor" href="#description-9"></a>
</h3>
<p>Executes a statement and returns the number of rows affected. <code><a href="../reference/dbExecute.html">dbExecute()</a></code> comes with a default implementation (which should work with most backends) that calls <code><a href="../reference/dbSendStatement.html">dbSendStatement()</a></code>, then <code><a href="../reference/dbGetRowsAffected.html">dbGetRowsAffected()</a></code>, ensuring that the result is always free-d by <code><a href="../reference/dbClearResult.html">dbClearResult()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>conn</code></td>
<td>A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.</td>
</tr>
<tr class="even">
<td><code>statement</code></td>
<td>a character string containing SQL.</td>
</tr>
<tr class="odd">
<td><code>...</code></td>
<td>Other parameters passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="details-6">Details<a class="anchor" aria-label="anchor" href="#details-6"></a>
</h3>
<p>You can also use <code><a href="../reference/dbExecute.html">dbExecute()</a></code> to call a stored procedure that performs data manipulation or other actions that do not return a result set. To execute a stored procedure that returns a result set use <code><a href="../reference/dbGetQuery.html">dbGetQuery()</a></code> instead.</p>
</div>
<div class="section level3">
<h3 id="implementation-notes-1">Implementation notes<a class="anchor" aria-label="anchor" href="#implementation-notes-1"></a>
</h3>
<p>Subclasses should override this method only if they provide some sort of performance optimization.</p>
</div>
<div class="section level3">
<h3 id="examples-10">Examples<a class="anchor" aria-label="anchor" href="#examples-10"></a>
</h3>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"cars"</span>, <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">cars</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"cars"</span><span class="op">)</span>   <span class="co"># there are 3 rows</span>
<span class="fu"><a href="../reference/dbExecute.html">dbExecute</a></span><span class="op">(</span>
  <span class="va">con</span>,
  <span class="st">"INSERT INTO cars (speed, dist) VALUES (1, 1), (2, 2), (3, 3)"</span>
<span class="op">)</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"cars"</span><span class="op">)</span>   <span class="co"># there are now 6 rows</span>

<span class="co"># Pass values using the param argument:</span>
<span class="fu"><a href="../reference/dbExecute.html">dbExecute</a></span><span class="op">(</span>
  <span class="va">con</span>,
  <span class="st">"INSERT INTO cars (speed, dist) VALUES (?, ?)"</span>,
  params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">4</span><span class="op">:</span><span class="fl">7</span>, <span class="fl">5</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span>
<span class="op">)</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"cars"</span><span class="op">)</span>   <span class="co"># there are now 10 rows</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="quote-literal-strings">Quote literal strings<a class="anchor" aria-label="anchor" href="#quote-literal-strings"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbQuoteString.html">dbQuoteString</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">x</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-10">Description<a class="anchor" aria-label="anchor" href="#description-10"></a>
</h3>
<p>Call this method to generate a string that is suitable for use in a query as a string literal, to make sure that you generate valid SQL and protect against SQL injection attacks.</p>
</div>
<div class="section level3">
<h3 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>conn</code></td>
<td>A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.</td>
</tr>
<tr class="even">
<td><code>x</code></td>
<td>A character vector to quote as string.</td>
</tr>
<tr class="odd">
<td><code>...</code></td>
<td>Other arguments passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="examples-11">Examples<a class="anchor" aria-label="anchor" href="#examples-11"></a>
</h3>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Quoting ensures that arbitrary input is safe for use in a query</span>
<span class="va">name</span> <span class="op">&lt;-</span> <span class="st">"Robert'); DROP TABLE Students;--"</span>
<span class="fu"><a href="../reference/dbQuoteString.html">dbQuoteString</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">name</span><span class="op">)</span>

<span class="co"># NAs become NULL</span>
<span class="fu"><a href="../reference/dbQuoteString.html">dbQuoteString</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span>

<span class="co"># SQL vectors are always passed through as is</span>
<span class="va">var_name</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SQL.html">SQL</a></span><span class="op">(</span><span class="st">"select"</span><span class="op">)</span>
<span class="va">var_name</span>
<span class="fu"><a href="../reference/dbQuoteString.html">dbQuoteString</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">var_name</span><span class="op">)</span>

<span class="co"># This mechanism is used to prevent double escaping</span>
<span class="fu"><a href="../reference/dbQuoteString.html">dbQuoteString</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="../reference/dbQuoteString.html">dbQuoteString</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">name</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="quote-identifiers">Quote identifiers<a class="anchor" aria-label="anchor" href="#quote-identifiers"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbQuoteIdentifier.html">dbQuoteIdentifier</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">x</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-11">Description<a class="anchor" aria-label="anchor" href="#description-11"></a>
</h3>
<p>Call this method to generate a string that is suitable for use in a query as a column or table name, to make sure that you generate valid SQL and protect against SQL injection attacks. The inverse operation is <code><a href="../reference/dbUnquoteIdentifier.html">dbUnquoteIdentifier()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="arguments-11">Arguments<a class="anchor" aria-label="anchor" href="#arguments-11"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>conn</code></td>
<td>A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.</td>
</tr>
<tr class="even">
<td><code>x</code></td>
<td>A character vector, SQL or Id object to quote as identifier.</td>
</tr>
<tr class="odd">
<td><code>...</code></td>
<td>Other arguments passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="examples-12">Examples<a class="anchor" aria-label="anchor" href="#examples-12"></a>
</h3>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Quoting ensures that arbitrary input is safe for use in a query</span>
<span class="va">name</span> <span class="op">&lt;-</span> <span class="st">"Robert'); DROP TABLE Students;--"</span>
<span class="fu"><a href="../reference/dbQuoteIdentifier.html">dbQuoteIdentifier</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">name</span><span class="op">)</span>

<span class="co"># Use Id() to specify other components such as the schema</span>
<span class="va">id_name</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Id.html">Id</a></span><span class="op">(</span>schema <span class="op">=</span> <span class="st">"schema_name"</span>, table <span class="op">=</span> <span class="st">"table_name"</span><span class="op">)</span>
<span class="va">id_name</span>
<span class="fu"><a href="../reference/dbQuoteIdentifier.html">dbQuoteIdentifier</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">id_name</span><span class="op">)</span>

<span class="co"># SQL vectors are always passed through as is</span>
<span class="va">var_name</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SQL.html">SQL</a></span><span class="op">(</span><span class="st">"select"</span><span class="op">)</span>
<span class="va">var_name</span>
<span class="fu"><a href="../reference/dbQuoteIdentifier.html">dbQuoteIdentifier</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">var_name</span><span class="op">)</span>

<span class="co"># This mechanism is used to prevent double escaping</span>
<span class="fu"><a href="../reference/dbQuoteIdentifier.html">dbQuoteIdentifier</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="../reference/dbQuoteIdentifier.html">dbQuoteIdentifier</a></span><span class="op">(</span><span class="fu"><a href="../reference/ANSI.html">ANSI</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">name</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="copy-data-frames-from-database-tables">Copy data frames from database tables<a class="anchor" aria-label="anchor" href="#copy-data-frames-from-database-tables"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">name</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-12">Description<a class="anchor" aria-label="anchor" href="#description-12"></a>
</h3>
<p>Reads a database table to a data frame, optionally converting a column to row names and converting the column names to valid R identifiers.</p>
</div>
<div class="section level3">
<h3 id="arguments-12">Arguments<a class="anchor" aria-label="anchor" href="#arguments-12"></a>
</h3>
<table data-summary="R argblock" class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd" data-valign="top">
<td>
<code>conn</code>
</td>
<td>
<p>
A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.
</p>
</td>
</tr>
<tr class="even" data-valign="top">
<td>
<code>name</code>
</td>
<td>
<p>
The table name, passed on to <code><a href="../reference/dbQuoteIdentifier.html">dbQuoteIdentifier()</a></code>. Options are:
</p>
<ul>
<li>
<p>
a character string with the unquoted DBMS table name, e.g. <code>“table_name”</code>,
</p>
</li>
<li>
<p>
a call to <code><a href="../reference/Id.html">Id()</a></code> with components to the fully qualified table name, e.g. <code>Id(schema = “my_schema”, table = “table_name”)</code>
</p>
</li>
<li>
<p>
a call to <code><a href="../reference/SQL.html">SQL()</a></code> with the quoted and fully qualified table name given verbatim, e.g. <code>SQL(‘“my_schema”.”table_name”’)</code>
</p>
</li>
</ul>
</td>
</tr>
<tr class="odd" data-valign="top">
<td>
<code>…</code>
</td>
<td>
<p>
Other parameters passed on to methods.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="examples-13">Examples<a class="anchor" aria-label="anchor" href="#examples-13"></a>
</h3>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="copy-data-frames-to-database-tables">Copy data frames to database tables<a class="anchor" aria-label="anchor" href="#copy-data-frames-to-database-tables"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">name</span>, <span class="va">value</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-13">Description<a class="anchor" aria-label="anchor" href="#description-13"></a>
</h3>
<p>Writes, overwrites or appends a data frame to a database table, optionally converting row names to a column and specifying SQL data types for fields. New code should prefer <code><a href="../reference/dbCreateTable.html">dbCreateTable()</a></code> and <code><a href="../reference/dbAppendTable.html">dbAppendTable()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="arguments-13">Arguments<a class="anchor" aria-label="anchor" href="#arguments-13"></a>
</h3>
<table data-summary="R argblock" class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd" data-valign="top">
<td>
<code>conn</code>
</td>
<td>
<p>
A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.
</p>
</td>
</tr>
<tr class="even" data-valign="top">
<td>
<code>name</code>
</td>
<td>
<p>
The table name, passed on to <code><a href="../reference/dbQuoteIdentifier.html">dbQuoteIdentifier()</a></code>. Options are:
</p>
<ul>
<li>
<p>
a character string with the unquoted DBMS table name, e.g. <code>“table_name”</code>,
</p>
</li>
<li>
<p>
a call to <code><a href="../reference/Id.html">Id()</a></code> with components to the fully qualified table name, e.g. <code>Id(schema = “my_schema”, table = “table_name”)</code>
</p>
</li>
<li>
<p>
a call to <code><a href="../reference/SQL.html">SQL()</a></code> with the quoted and fully qualified table name given verbatim, e.g. <code>SQL(‘“my_schema”.”table_name”’)</code>
</p>
</li>
</ul>
</td>
</tr>
<tr class="odd" data-valign="top">
<td>
<code>value</code>
</td>
<td>
<p>
a data.frame (or coercible to data.frame).
</p>
</td>
</tr>
<tr class="even" data-valign="top">
<td>
<code>…</code>
</td>
<td>
<p>
Other parameters passed on to methods.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="examples-14">Examples<a class="anchor" aria-label="anchor" href="#examples-14"></a>
</h3>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">[</span><span class="fl">6</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span>, append <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span><span class="op">)</span>

<span class="co"># No row names</span>
<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="list-remote-tables">List remote tables<a class="anchor" aria-label="anchor" href="#list-remote-tables"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbListTables.html">dbListTables</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-14">Description<a class="anchor" aria-label="anchor" href="#description-14"></a>
</h3>
<p>Returns the unquoted names of remote tables accessible through this connection. This should include views and temporary objects, but not all database backends (in particular <span class="pkg">RMariaDB</span> and <span class="pkg">RMySQL</span>) support this.</p>
</div>
<div class="section level3">
<h3 id="arguments-14">Arguments<a class="anchor" aria-label="anchor" href="#arguments-14"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>conn</code></td>
<td>A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.</td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>Other parameters passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="examples-15">Examples<a class="anchor" aria-label="anchor" href="#examples-15"></a>
</h3>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbListTables.html">dbListTables</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbListTables.html">dbListTables</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="does-a-table-exist">Does a table exist?<a class="anchor" aria-label="anchor" href="#does-a-table-exist"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbExistsTable.html">dbExistsTable</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">name</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-15">Description<a class="anchor" aria-label="anchor" href="#description-15"></a>
</h3>
<p>Returns if a table given by name exists in the database.</p>
</div>
<div class="section level3">
<h3 id="arguments-15">Arguments<a class="anchor" aria-label="anchor" href="#arguments-15"></a>
</h3>
<table data-summary="R argblock" class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd" data-valign="top">
<td>
<code>conn</code>
</td>
<td>
<p>
A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.
</p>
</td>
</tr>
<tr class="even" data-valign="top">
<td>
<code>name</code>
</td>
<td>
<p>
The table name, passed on to <code><a href="../reference/dbQuoteIdentifier.html">dbQuoteIdentifier()</a></code>. Options are:
</p>
<ul>
<li>
<p>
a character string with the unquoted DBMS table name, e.g. <code>“table_name”</code>,
</p>
</li>
<li>
<p>
a call to <code><a href="../reference/Id.html">Id()</a></code> with components to the fully qualified table name, e.g. <code>Id(schema = “my_schema”, table = “table_name”)</code>
</p>
</li>
<li>
<p>
a call to <code><a href="../reference/SQL.html">SQL()</a></code> with the quoted and fully qualified table name given verbatim, e.g. <code>SQL(‘“my_schema”.”table_name”’)</code>
</p>
</li>
</ul>
</td>
</tr>
<tr class="odd" data-valign="top">
<td>
<code>…</code>
</td>
<td>
<p>
Other parameters passed on to methods.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="examples-16">Examples<a class="anchor" aria-label="anchor" href="#examples-16"></a>
</h3>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbExistsTable.html">dbExistsTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"iris"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"iris"</span>, <span class="va">iris</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbExistsTable.html">dbExistsTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"iris"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="remove-a-table-from-the-database">Remove a table from the database<a class="anchor" aria-label="anchor" href="#remove-a-table-from-the-database"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbRemoveTable.html">dbRemoveTable</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">name</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-16">Description<a class="anchor" aria-label="anchor" href="#description-16"></a>
</h3>
<p>Remove a remote table (e.g., created by <code><a href="../reference/dbWriteTable.html">dbWriteTable()</a></code>) from the database.</p>
</div>
<div class="section level3">
<h3 id="arguments-16">Arguments<a class="anchor" aria-label="anchor" href="#arguments-16"></a>
</h3>
<table data-summary="R argblock" class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd" data-valign="top">
<td>
<code>conn</code>
</td>
<td>
<p>
A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.
</p>
</td>
</tr>
<tr class="even" data-valign="top">
<td>
<code>name</code>
</td>
<td>
<p>
The table name, passed on to <code><a href="../reference/dbQuoteIdentifier.html">dbQuoteIdentifier()</a></code>. Options are:
</p>
<ul>
<li>
<p>
a character string with the unquoted DBMS table name, e.g. <code>“table_name”</code>,
</p>
</li>
<li>
<p>
a call to <code><a href="../reference/Id.html">Id()</a></code> with components to the fully qualified table name, e.g. <code>Id(schema = “my_schema”, table = “table_name”)</code>
</p>
</li>
<li>
<p>
a call to <code><a href="../reference/SQL.html">SQL()</a></code> with the quoted and fully qualified table name given verbatim, e.g. <code>SQL(‘“my_schema”.”table_name”’)</code>
</p>
</li>
</ul>
</td>
</tr>
<tr class="odd" data-valign="top">
<td>
<code>…</code>
</td>
<td>
<p>
Other parameters passed on to methods.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="examples-17">Examples<a class="anchor" aria-label="anchor" href="#examples-17"></a>
</h3>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbExistsTable.html">dbExistsTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"iris"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"iris"</span>, <span class="va">iris</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbExistsTable.html">dbExistsTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"iris"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbRemoveTable.html">dbRemoveTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"iris"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbExistsTable.html">dbExistsTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"iris"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="list-field-names-of-a-remote-table">List field names of a remote table<a class="anchor" aria-label="anchor" href="#list-field-names-of-a-remote-table"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbListFields.html">dbListFields</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">name</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-17">Description<a class="anchor" aria-label="anchor" href="#description-17"></a>
</h3>
<p>List field names of a remote table</p>
</div>
<div class="section level3">
<h3 id="arguments-17">Arguments<a class="anchor" aria-label="anchor" href="#arguments-17"></a>
</h3>
<table data-summary="R argblock" class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd" data-valign="top">
<td>
<code>conn</code>
</td>
<td>
<p>
A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.
</p>
</td>
</tr>
<tr class="even" data-valign="top">
<td>
<code>name</code>
</td>
<td>
<p>
The table name, passed on to <code><a href="../reference/dbQuoteIdentifier.html">dbQuoteIdentifier()</a></code>. Options are:
</p>
<ul>
<li>
<p>
a character string with the unquoted DBMS table name, e.g. <code>“table_name”</code>,
</p>
</li>
<li>
<p>
a call to <code><a href="../reference/Id.html">Id()</a></code> with components to the fully qualified table name, e.g. <code>Id(schema = “my_schema”, table = “table_name”)</code>
</p>
</li>
<li>
<p>
a call to <code><a href="../reference/SQL.html">SQL()</a></code> with the quoted and fully qualified table name given verbatim, e.g. <code>SQL(‘“my_schema”.”table_name”’)</code>
</p>
</li>
</ul>
</td>
</tr>
<tr class="odd" data-valign="top">
<td>
<code>…</code>
</td>
<td>
<p>
Other parameters passed on to methods.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="examples-18">Examples<a class="anchor" aria-label="anchor" href="#examples-18"></a>
</h3>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbListFields.html">dbListFields</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="is-this-dbms-object-still-valid">Is this DBMS object still valid?<a class="anchor" aria-label="anchor" href="#is-this-dbms-object-still-valid"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbIsValid.html">dbIsValid</a></span><span class="op">(</span><span class="va">dbObj</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-18">Description<a class="anchor" aria-label="anchor" href="#description-18"></a>
</h3>
<p>This generic tests whether a database object is still valid (i.e. it hasn’t been disconnected or cleared).</p>
</div>
<div class="section level3">
<h3 id="arguments-18">Arguments<a class="anchor" aria-label="anchor" href="#arguments-18"></a>
</h3>
<table class="table">
<colgroup>
<col width="9%">
<col width="90%">
</colgroup>
<tbody>
<tr class="odd">
<td><code>dbObj</code></td>
<td>An object inheriting from DBIObject, i.e. DBIDriver, DBIConnection, or a DBIResult</td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>Other arguments to methods.</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="examples-19">Examples<a class="anchor" aria-label="anchor" href="#examples-19"></a>
</h3>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbIsValid.html">dbIsValid</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>

<span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbIsValid.html">dbIsValid</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span>

<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendQuery.html">dbSendQuery</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT 1"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbIsValid.html">dbIsValid</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbIsValid.html">dbIsValid</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbIsValid.html">dbIsValid</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="completion-status">Completion status<a class="anchor" aria-label="anchor" href="#completion-status"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbHasCompleted.html">dbHasCompleted</a></span><span class="op">(</span><span class="va">res</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-19">Description<a class="anchor" aria-label="anchor" href="#description-19"></a>
</h3>
<p>This method returns if the operation has completed. A <code>SELECT</code> query is completed if all rows have been fetched. A data manipulation statement is always completed.</p>
</div>
<div class="section level3">
<h3 id="arguments-19">Arguments<a class="anchor" aria-label="anchor" href="#arguments-19"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>res</code></td>
<td>An object inheriting from DBIResult.</td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>Other arguments passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="examples-20">Examples<a class="anchor" aria-label="anchor" href="#examples-20"></a>
</h3>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">)</span>
<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendQuery.html">dbSendQuery</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT * FROM mtcars"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbHasCompleted.html">dbHasCompleted</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="va">ret1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">rs</span>, <span class="fl">10</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbHasCompleted.html">dbHasCompleted</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="va">ret2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbHasCompleted.html">dbHasCompleted</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="get-the-statement-associated-with-a-result-set">Get the statement associated with a result set<a class="anchor" aria-label="anchor" href="#get-the-statement-associated-with-a-result-set"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbGetStatement.html">dbGetStatement</a></span><span class="op">(</span><span class="va">res</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-20">Description<a class="anchor" aria-label="anchor" href="#description-20"></a>
</h3>
<p>Returns the statement that was passed to <code><a href="../reference/dbSendQuery.html">dbSendQuery()</a></code> or <code><a href="../reference/dbSendStatement.html">dbSendStatement()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="arguments-20">Arguments<a class="anchor" aria-label="anchor" href="#arguments-20"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>res</code></td>
<td>An object inheriting from DBIResult.</td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>Other arguments passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="examples-21">Examples<a class="anchor" aria-label="anchor" href="#examples-21"></a>
</h3>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">)</span>
<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendQuery.html">dbSendQuery</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT * FROM mtcars"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbGetStatement.html">dbGetStatement</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="the-number-of-rows-fetched-so-far">The number of rows fetched so far<a class="anchor" aria-label="anchor" href="#the-number-of-rows-fetched-so-far"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbGetRowCount.html">dbGetRowCount</a></span><span class="op">(</span><span class="va">res</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-21">Description<a class="anchor" aria-label="anchor" href="#description-21"></a>
</h3>
<p>Returns the total number of rows actually fetched with calls to <code><a href="../reference/dbFetch.html">dbFetch()</a></code> for this result set.</p>
</div>
<div class="section level3">
<h3 id="arguments-21">Arguments<a class="anchor" aria-label="anchor" href="#arguments-21"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>res</code></td>
<td>An object inheriting from DBIResult.</td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>Other arguments passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="examples-22">Examples<a class="anchor" aria-label="anchor" href="#examples-22"></a>
</h3>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">)</span>
<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendQuery.html">dbSendQuery</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT * FROM mtcars"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbGetRowCount.html">dbGetRowCount</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="va">ret1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">rs</span>, <span class="fl">10</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbGetRowCount.html">dbGetRowCount</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="va">ret2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbGetRowCount.html">dbGetRowCount</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">ret1</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">ret2</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="the-number-of-rows-affected">The number of rows affected<a class="anchor" aria-label="anchor" href="#the-number-of-rows-affected"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbGetRowsAffected.html">dbGetRowsAffected</a></span><span class="op">(</span><span class="va">res</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-22">Description<a class="anchor" aria-label="anchor" href="#description-22"></a>
</h3>
<p>This method returns the number of rows that were added, deleted, or updated by a data manipulation statement.</p>
</div>
<div class="section level3">
<h3 id="arguments-22">Arguments<a class="anchor" aria-label="anchor" href="#arguments-22"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>res</code></td>
<td>An object inheriting from DBIResult.</td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>Other arguments passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="examples-23">Examples<a class="anchor" aria-label="anchor" href="#examples-23"></a>
</h3>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"mtcars"</span>, <span class="va">mtcars</span><span class="op">)</span>
<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendStatement.html">dbSendStatement</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"DELETE FROM mtcars"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbGetRowsAffected.html">dbGetRowsAffected</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="information-about-result-types">Information about result types<a class="anchor" aria-label="anchor" href="#information-about-result-types"></a>
</h2>
<p>This section describes the behavior of the following method:</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbColumnInfo.html">dbColumnInfo</a></span><span class="op">(</span><span class="va">res</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-23">Description<a class="anchor" aria-label="anchor" href="#description-23"></a>
</h3>
<p>Produces a data.frame that describes the output of a query. The data.frame should have as many rows as there are output fields in the result set, and each column in the data.frame describes an aspect of the result set field (field name, type, etc.)</p>
</div>
<div class="section level3">
<h3 id="arguments-23">Arguments<a class="anchor" aria-label="anchor" href="#arguments-23"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>res</code></td>
<td>An object inheriting from DBIResult.</td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>Other arguments passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="examples-24">Examples<a class="anchor" aria-label="anchor" href="#examples-24"></a>
</h3>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="va">rs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbSendQuery.html">dbSendQuery</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"SELECT 1 AS a, 2 AS b"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbColumnInfo.html">dbColumnInfo</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbFetch.html">dbFetch</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbClearResult.html">dbClearResult</a></span><span class="op">(</span><span class="va">rs</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="begincommitrollback-sql-transactions">Begin/commit/rollback SQL transactions<a class="anchor" aria-label="anchor" href="#begincommitrollback-sql-transactions"></a>
</h2>
<p>This section describes the behavior of the following methods:</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/transactions.html">dbBegin</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu"><a href="../reference/transactions.html">dbCommit</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu"><a href="../reference/transactions.html">dbRollback</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-24">Description<a class="anchor" aria-label="anchor" href="#description-24"></a>
</h3>
<p>A transaction encapsulates several SQL statements in an atomic unit. It is initiated with <code><a href="../reference/transactions.html">dbBegin()</a></code> and either made persistent with <code><a href="../reference/transactions.html">dbCommit()</a></code> or undone with <code><a href="../reference/transactions.html">dbRollback()</a></code>. In any case, the DBMS guarantees that either all or none of the statements have a permanent effect. This helps ensuring consistency of write operations to multiple tables.</p>
</div>
<div class="section level3">
<h3 id="arguments-24">Arguments<a class="anchor" aria-label="anchor" href="#arguments-24"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>conn</code></td>
<td>A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.</td>
</tr>
<tr class="even">
<td><code>...</code></td>
<td>Other parameters passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="details-7">Details<a class="anchor" aria-label="anchor" href="#details-7"></a>
</h3>
<p>Not all database engines implement transaction management, in which case these methods should not be implemented for the specific DBIConnection subclass.</p>
</div>
<div class="section level3">
<h3 id="examples-25">Examples<a class="anchor" aria-label="anchor" href="#examples-25"></a>
</h3>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"cash"</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>amount <span class="op">=</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"account"</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>amount <span class="op">=</span> <span class="fl">2000</span><span class="op">)</span><span class="op">)</span>

<span class="co"># All operations are carried out as logical unit:</span>
<span class="fu"><a href="../reference/transactions.html">dbBegin</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span>
<span class="va">withdrawal</span> <span class="op">&lt;-</span> <span class="fl">300</span>
<span class="fu"><a href="../reference/dbExecute.html">dbExecute</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"UPDATE cash SET amount = amount + ?"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">withdrawal</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbExecute.html">dbExecute</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"UPDATE account SET amount = amount - ?"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">withdrawal</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/transactions.html">dbCommit</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"cash"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"account"</span><span class="op">)</span>

<span class="co"># Rolling back after detecting negative value on account:</span>
<span class="fu"><a href="../reference/transactions.html">dbBegin</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span>
<span class="va">withdrawal</span> <span class="op">&lt;-</span> <span class="fl">5000</span>
<span class="fu"><a href="../reference/dbExecute.html">dbExecute</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"UPDATE cash SET amount = amount + ?"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">withdrawal</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbExecute.html">dbExecute</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"UPDATE account SET amount = amount - ?"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">withdrawal</span><span class="op">)</span><span class="op">)</span>
<span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"account"</span><span class="op">)</span><span class="op">$</span><span class="va">amount</span> <span class="op">&gt;=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="../reference/transactions.html">dbCommit</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span>
<span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
  <span class="fu"><a href="../reference/transactions.html">dbRollback</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span>
<span class="op">}</span>

<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"cash"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"account"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2 container">
<h2 id="self-contained-sql-transactions">Self-contained SQL transactions<a class="anchor" aria-label="anchor" href="#self-contained-sql-transactions"></a>
</h2>
<p>This section describes the behavior of the following methods:</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/dbWithTransaction.html">dbWithTransaction</a></span><span class="op">(</span><span class="va">conn</span>, <span class="va">code</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWithTransaction.html">dbBreak</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="description-25">Description<a class="anchor" aria-label="anchor" href="#description-25"></a>
</h3>
<p>Given that transactions are implemented, this function allows you to pass in code that is run in a transaction. The default method of <code><a href="../reference/dbWithTransaction.html">dbWithTransaction()</a></code> calls <code><a href="../reference/transactions.html">dbBegin()</a></code> before executing the code, and <code><a href="../reference/transactions.html">dbCommit()</a></code> after successful completion, or <code><a href="../reference/transactions.html">dbRollback()</a></code> in case of an error. The advantage is that you don’t have to remember to do <code><a href="../reference/transactions.html">dbBegin()</a></code> and <code><a href="../reference/transactions.html">dbCommit()</a></code> or <code><a href="../reference/transactions.html">dbRollback()</a></code> – that is all taken care of. The special function <code><a href="../reference/dbWithTransaction.html">dbBreak()</a></code> allows an early exit with rollback, it can be called only inside <code><a href="../reference/dbWithTransaction.html">dbWithTransaction()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="arguments-25">Arguments<a class="anchor" aria-label="anchor" href="#arguments-25"></a>
</h3>
<table class="table"><tbody>
<tr class="odd">
<td><code>conn</code></td>
<td>A DBIConnection object, as returned by <code><a href="../reference/dbConnect.html">dbConnect()</a></code>.</td>
</tr>
<tr class="even">
<td><code>code</code></td>
<td>An arbitrary block of R code.</td>
</tr>
<tr class="odd">
<td><code>...</code></td>
<td>Other parameters passed on to methods.</td>
</tr>
</tbody></table>
</div>
<div class="section level3">
<h3 id="details-8">Details<a class="anchor" aria-label="anchor" href="#details-8"></a>
</h3>
<p>DBI implements <code><a href="../reference/dbWithTransaction.html">dbWithTransaction()</a></code>, backends should need to override this generic only if they implement specialized handling.</p>
</div>
<div class="section level3">
<h3 id="examples-26">Examples<a class="anchor" aria-label="anchor" href="#examples-26"></a>
</h3>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RSQLite</span><span class="fu">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">SQLite</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">":memory:"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"cash"</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>amount <span class="op">=</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"account"</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>amount <span class="op">=</span> <span class="fl">2000</span><span class="op">)</span><span class="op">)</span>

<span class="co"># All operations are carried out as logical unit:</span>
<span class="fu"><a href="../reference/dbWithTransaction.html">dbWithTransaction</a></span><span class="op">(</span>
  <span class="va">con</span>,
  <span class="op">{</span>
    <span class="va">withdrawal</span> <span class="op">&lt;-</span> <span class="fl">300</span>
    <span class="fu"><a href="../reference/dbExecute.html">dbExecute</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"UPDATE cash SET amount = amount + ?"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">withdrawal</span><span class="op">)</span><span class="op">)</span>
    <span class="fu"><a href="../reference/dbExecute.html">dbExecute</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"UPDATE account SET amount = amount - ?"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">withdrawal</span><span class="op">)</span><span class="op">)</span>
  <span class="op">}</span>
<span class="op">)</span>

<span class="co"># The code is executed as if in the curent environment:</span>
<span class="va">withdrawal</span>

<span class="co"># The changes are committed to the database after successful execution:</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"cash"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"account"</span><span class="op">)</span>

<span class="co"># Rolling back with dbBreak():</span>
<span class="fu"><a href="../reference/dbWithTransaction.html">dbWithTransaction</a></span><span class="op">(</span>
  <span class="va">con</span>,
  <span class="op">{</span>
    <span class="va">withdrawal</span> <span class="op">&lt;-</span> <span class="fl">5000</span>
    <span class="fu"><a href="../reference/dbExecute.html">dbExecute</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"UPDATE cash SET amount = amount + ?"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">withdrawal</span><span class="op">)</span><span class="op">)</span>
    <span class="fu"><a href="../reference/dbExecute.html">dbExecute</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"UPDATE account SET amount = amount - ?"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">withdrawal</span><span class="op">)</span><span class="op">)</span>
    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"account"</span><span class="op">)</span><span class="op">$</span><span class="va">amount</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span>
      <span class="fu"><a href="../reference/dbWithTransaction.html">dbBreak</a></span><span class="op">(</span><span class="op">)</span>
    <span class="op">}</span>
  <span class="op">}</span>
<span class="op">)</span>

<span class="co"># These changes were not committed to the database:</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"cash"</span><span class="op">)</span>
<span class="fu"><a href="../reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"account"</span><span class="op">)</span>

<span class="fu"><a href="../reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by R Special Interest Group on Databases (R-SIG-DB), <a href="http://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://krlmlr.info" class="external-link">Kirill Müller</a>, <a href="https://www.r-consortium.org" class="external-link">R Consortium</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.9000.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
